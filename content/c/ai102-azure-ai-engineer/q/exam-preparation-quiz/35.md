---
title: "Validate Face API Code For Adding Student Face Images"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "Yes"
      correct: false
      explain: "The code has several issues: it uses POST instead of PUT, has typos in variable names (HttpC1ient, HttpResponsemessage), and uses PutAsync incorrectly for the Face API endpoint."
    - id: "answer2"
      title: "No"
      correct: true
      explain: "The code contains multiple errors including HTTP method mismatch, variable name typos, and incorrect API usage that would prevent it from successfully adding face images."
    - id: "answer3"
      title: "Only with authentication modifications"
      correct: false
      explain: "While authentication is important, the code has fundamental structural and syntactic errors beyond authentication that would prevent successful execution."
    - id: "answer4"
      title: "Only for small images"
      correct: false
      explain: "Image size is not the primary issue - the code has syntax errors and incorrect HTTP method usage that affect all image sizes."
link: "https://learn.microsoft.com/en-us/azure/ai-services/computer-vision/how-to/identity-detect-faces"
more: "Learn more about Face API implementation"
learn: "Face API Implementation"
---

MDFT Pro, a well-known training agency, is developing a student recognition system using Azure Face API to automatically identify students in training session photos and track attendance. Mark, the Security Systems Developer, is implementing functionality to add student face images to person groups for each course. 

The system needs to process photos from student ID cards and training session images that are accessible via URI endpoints. Mark has written code to add face images to person objects in person groups, but he needs to verify that the implementation will work correctly for the student recognition system.

Here is the code Mark has written:

```csharp
static async void AddFace(string subscription_key, string
personGroupId, string personId, string imageURI)
{
    var client = new HttpClient();
    client.DefaultRequestHeaders.Add("Ocp-Apim-Subscription-Key", subscription_key);
    var endpointURI = $"https://westus.api.cognitive.microsoft.com/face/v1.0/persongroups/{personGroupId}/persons/{personId}/persistedFaces";
    HttpResponseMessage response;
    var body = "{ \"url\": \"" + imageURI + "\"}";
    var content = new StringContent(body, Encoding.UTF8, "application/json");
    response = await client.PostAsync(endpointURI, content);
}
```

Will this code successfully add a face image to a person object in a person group?
