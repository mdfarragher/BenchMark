---
title: "Implement Document-Level Filtering In Azure Cognitive Search"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Send Azure AD access tokens with the search request"
      correct: false
      explain: "While authentication is important, Azure AD tokens alone don't provide the document-level filtering mechanism needed to restrict access based on group membership."
    - id: "answer2"
      title: "Retrieve all the groups"
      correct: false
      explain: "Retrieving all groups provides organizational information but doesn't implement the security filtering logic needed for document-level access control."
    - id: "answer3"
      title: "Retrieve the group memberships of the user"
      correct: true
      explain: "Getting user group memberships provides the security context needed to determine which documents the user should be able to access based on their organizational permissions."
    - id: "answer4"
      title: "Add allowed groups to each index entry"
      correct: true
      explain: "Adding allowed group information to index entries enables document-level security by associating each document with the groups that should have access to it."
    - id: "answer5"
      title: "Create one index per group"
      correct: false
      explain: "Creating separate indexes per group creates unnecessary complexity and doesn't scale efficiently when users belong to multiple groups."
    - id: "answer6"
      title: "Supply the groups as a filter for the search requests"
      correct: true
      explain: "Using group membership as a search filter ensures that users only see documents they're authorized to access based on their security permissions."
link: "https://learn.microsoft.com/en-us/azure/search/search-security-trimming-for-azure-search"
more: "Learn more about security trimming in Azure Search"
learn: "Security Trimming"
---

MDFT Pro, a well-known training agency, manages an internal document repository containing confidential training materials, instructor resources, proprietary curriculum content, and sensitive student information. Mark, the Information Security Architect, needs to implement a document-level security system that ensures employees can only access materials appropriate to their role and department. 

The system should automatically filter search results so that trainers only see instructor materials, administrative staff access policy documents, and course coordinators view curriculum planning resources, while preventing unauthorized access to sensitive information regardless of search queries.

Which three actions should Mark include in the solution to implement document-level filtering?