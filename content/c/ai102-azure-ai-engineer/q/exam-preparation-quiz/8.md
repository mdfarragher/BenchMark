---
title: "Complete Face API Code For Adding Person Images"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "File"
      correct: false
      explain: "The File class provides static methods for file operations but doesn't implement IDisposable for use in using statements."
    - id: "answer2"
      title: "Stream"
      correct: true
      explain: "Stream is the correct type as File.OpenRead() returns a FileStream, and the Face API methods accept Stream objects for image data."
    - id: "answer3"
      title: "Uri"
      correct: false
      explain: "Uri represents a web address or file path, not the actual image data stream needed by the Face API."
    - id: "answer4"
      title: "Url"
      correct: false
      explain: "Url is not a standard .NET type, and the Face API requires image data as a stream, not a URL reference."
link: "https://learn.microsoft.com/en-us/azure/ai-services/computer-vision/how-to/identity-detect-faces"
more: "Learn more about Face API person groups"
learn: "Face API Person Groups"
---

MDFT Pro, a well-known training agency, is developing a student recognition system using the Azure Face API to automatically identify students in training session photos. Claire, the Lead Developer, needs to create person groups for each course and add multiple photos of each student to improve recognition accuracy. 

The application processes student profile images stored in organized directories, with each student having a folder containing multiple JPG photos. The code uses parallel processing to efficiently add all student images to their respective person groups in the Face API.

Here is the code that needs to be completed:

```csharp
Parallel.For (0, PersonCount, async i =>
{
    Guid personId = persons[i].PersonId;
    string personImageDir = $"/path/to/person/{i}/images";
    foreach (string imagePath in Directory.GetFiles(personImageDir, "*.jpg"))
    {
        using (__________ t = File.OpenRead(imagePath))
        {
            // code to add face to person group goes here
        }
    }
});
```

What type should be used in the first placeholder to properly handle the image file stream?
