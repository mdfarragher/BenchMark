---
title: "Configure Route Table Next Hop Type For Virtual Appliance"
type: "question"
layout: "single"
answers:
  - id: "answer1"
    title: "Virtual appliance"
    correct: true
    explain: "Virtual appliance is the correct next hop type when routing traffic through a VM that acts as a network appliance, such as a firewall or router. This directs traffic to the specific IP address of VM1."
  - id: "answer2"
    title: "Virtual network"
    correct: false
    explain: "Virtual network as a next hop type is used for routing traffic to stay within the current virtual network using Azure's default routing. This would not direct traffic specifically through VM1."
  - id: "answer3"
    title: "Virtual network gateway"
    correct: false
    explain: "Virtual network gateway is used as a next hop when routing traffic to another network through a VPN or ExpressRoute gateway. Since VM1 is within the same VNet, this is not the appropriate choice."
  - id: "answer4"
    title: "Internet"
    correct: false
    explain: "Internet as a next hop type routes traffic to the public internet through Azure's default internet gateway. This would not route traffic through the internal virtual appliance VM1."
link: "https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-udr-overview"
more: "Learn More About Azure User-Defined Routes"
learn: "Azure Route Next Hop Types"
---

MDFT Pro, a well-known training agency, is implementing a security-first network architecture for their Azure infrastructure. As the newly hired security architect for MDFT Pro, you need to ensure all VPN traffic from remote training locations passes through their security appliance for inspection and compliance monitoring under direction from Mark, the CTO and boss at MDFT Pro. 

The company has deployed VNet1 with multiple subnets hosting their educational platforms and student management systems.

| Subnet Name | IP Address Range |
|-------------|------------------|
| Subnet0 | 10.0.0.0/24 |
| Subnet1 | 10.0.1.0/24 |
| Subnet2 | 10.0.2.0/24 |
| GatewaySubnet | 10.0.254.0/24 |

In Subnet1, they have deployed a virtual appliance named VM1 that operates as a security router, providing deep packet inspection and threat detection capabilities. You have created routing table RT1 with the address prefix 10.0.0.0/16 to capture all VNet1 traffic, and now need to configure the next hop type to ensure traffic is properly routed through VM1.

What next hop type should you specify in RT1 to route traffic through the virtual appliance VM1?
