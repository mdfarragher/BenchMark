---
title: "Deploy Ubuntu Server VM With Custom Trusted Root Certificate Authority"
type: "question"
layout: "single"
answers:
  - id: "answer1"
    title: "The New-AzureRmVm cmdlet"
    correct: false
    explain: "New-AzureRmVm is from the legacy AzureRM PowerShell module which has been deprecated. This cmdlet cannot handle custom deployment configurations for adding trusted root CAs during VM creation."
  - id: "answer2"
    title: "The New-AzVM cmdlet"
    correct: false
    explain: "New-AzVM creates standard VMs but doesn't provide the flexibility needed for custom deployments with specific configurations like adding trusted root certificate authorities during initial setup."
  - id: "answer3"
    title: "The Create-AzVM cmdlet"
    correct: false
    explain: "Create-AzVM is not a valid Azure PowerShell cmdlet. This command does not exist in the Azure PowerShell module and therefore cannot be used for VM deployment."
  - id: "answer4"
    title: "The az vm create command"
    correct: true
    explain: "The Azure CLI's 'az vm create' command supports custom deployments through cloud-init scripts and custom data parameters, which allow you to configure trusted root certificate authorities during VM provisioning."
link: "https://learn.microsoft.com/en-us/azure/virtual-machines/linux/tutorial-manage-vm"
more: "Learn more about managing Linux VMs in Azure"
learn: "Azure VM Management"
---

Claire is a senior DevOps engineer at MDFT Pro training agency, working alongside Mark, the infrastructure architect, to prepare a specialized Azure workshop for system administrators. They are designing a hands-on lab focused on deploying Ubuntu Server virtual machines with custom security configurations. The scenario involves deploying VMs that must include a particular trusted root certificate authority (CA) as part of the initial setup to ensure secure communication with the company's internal services. This configuration cannot be applied post-deployment due to security policies and must be integrated during the VM creation process. Students need to understand which Azure deployment method provides the flexibility to customize the VM initialization process with cloud-init scripts or custom data to install the required certificate authority.

Which tool should be used to create the virtual machine with the custom trusted root CA configuration?