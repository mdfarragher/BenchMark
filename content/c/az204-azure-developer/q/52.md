---
title: "Configure App Service Plan for Per-Site Scaling"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "-NumberOfSites 1"
      correct: false
      explain: "NumberOfSites is not a valid parameter for the Set-AzAppServicePlan cmdlet. There is no parameter to limit the number of sites in an App Service Plan. App Service Plans can host multiple web apps, and the number of sites isn't restricted by plan configuration—it's limited by the plan's pricing tier and available resources."
    - id: "answer2"
      title: "-PerSiteScaling $true"
      correct: true
      explain: "The -PerSiteScaling parameter enables per-app scaling at the App Service Plan level, allowing individual web apps to scale independently from the plan. When enabled, each app can be configured with its own worker count limit (like setting NumberOfWorkers to 1 for the ExcelParser app), while other apps in the same plan can use different worker counts. This satisfies the licensing requirement by allowing you to restrict ExcelParser to a single instance while other apps can scale normally."
    - id: "answer3"
      title: "-TargetWorkerCount 1"
      correct: false
      explain: "TargetWorkerCount is not a valid parameter for Set-AzAppServicePlan. Worker count configuration happens at the plan level using -NumberOfWorkers, not -TargetWorkerCount. Additionally, setting the plan-level worker count to 1 would restrict all apps in the plan to a single instance, which would negatively impact the other web apps running in PrimaryASP."
    - id: "answer4"
      title: "-NumberOfWorkers 1"
      correct: false
      explain: "While NumberOfWorkers is a valid parameter for Set-AzAppServicePlan, setting it to 1 at the plan level would restrict all web apps in PrimaryASP to a single instance. This would affect the several other Azure web apps mentioned in the scenario, potentially degrading their performance and availability. You need per-site scaling to control only the ExcelParser app's instance count."
    - id: "answer5"
      title: "-SiteConfig.TargetWorkerCount 1"
      correct: false
      explain: "SiteConfig is not a valid parameter for Set-AzAppServicePlan. This cmdlet configures App Service Plan settings, not individual site configurations. SiteConfig properties are set on individual web apps using Get-AzWebApp and Set-AzWebApp cmdlets, not on the App Service Plan itself."
    - id: "answer6"
      title: "-SiteConfig.NumberOfWorkers 1"
      correct: false
      explain: "SiteConfig is not a parameter for Set-AzAppServicePlan—this cmdlet configures the App Service Plan, not individual app settings. To set NumberOfWorkers for a specific web app, you would use Get-AzWebApp to retrieve the app, then modify $app.SiteConfig.NumberOfWorkers, and finally call Set-AzWebApp. The App Service Plan itself must have PerSiteScaling enabled first."
link: "https://learn.microsoft.com/en-us/azure/app-service/manage-scale-per-app"
more: "Learn more about Per-App Scaling"
learn: "App Service Per-App Scaling"
---

You work as a Cloud Application Engineer for MDFT Pro, a well-known training agency that delivers certification courses to students worldwide. Claire, the Web Services Architecture Lead, manages a service consisting of several Azure web apps running in an App Service Plan named **PrimaryASP**. You're developing a new web service called **ExcelParser** that processes student grade spreadsheets and course enrollment Excel files uploaded by instructors. The web app uses a third-party Excel processing library with a licensing restriction that prohibits running multiple instances of the library simultaneously—you can only run a single instance. However, the other web apps in PrimaryASP need to scale out to multiple instances to handle student traffic. You need to configure the App Service Plan to allow ExcelParser to run on exactly one instance while permitting the other apps to scale independently.

How should you configure the App Service Plan using the Set-AzAppServicePlan cmdlet?

```powershell
Set-AzAppServicePlan `
    -ResourceGroupName $rg `
    -Name "PrimaryASP" `
    ________________
```
