---
title: "Set Web App Worker Count for Single Instance"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "$app.NumberOfSites = 1"
      correct: false
      explain: "NumberOfSites is not a property of the web app object returned by Get-AzWebApp. This property doesn't exist in the Azure Web App resource model. The number of sites is a characteristic of the App Service Plan, not individual web apps, and there's no such property to configure."
    - id: "answer2"
      title: "$app.PerSiteScaling = $true"
      correct: false
      explain: "PerSiteScaling is configured at the App Service Plan level using Set-AzAppServicePlan, not on individual web apps. The web app object doesn't have a PerSiteScaling property. The App Service Plan must already have per-site scaling enabled before you can configure worker counts for individual apps."
    - id: "answer3"
      title: "$app.TargetWorkerCount = 1"
      correct: false
      explain: "TargetWorkerCount is not a valid property on the web app object. The correct property for controlling the number of instances for a specific web app when per-site scaling is enabled is SiteConfig.NumberOfWorkers, not a top-level TargetWorkerCount property."
    - id: "answer4"
      title: "$app.NumberOfWorkers = 1"
      correct: false
      explain: "NumberOfWorkers is not a top-level property of the web app object. While NumberOfWorkers is the correct property name, it's located within the SiteConfig object, not at the root level. The correct syntax is $app.SiteConfig.NumberOfWorkers = 1, which sets the instance count for the app when per-site scaling is enabled on the plan."
    - id: "answer5"
      title: "$app.SiteConfig.TargetWorkerCount = 1"
      correct: false
      explain: "TargetWorkerCount is not a valid property within SiteConfig. The SiteConfig object contains NumberOfWorkers, not TargetWorkerCount. When per-site scaling is enabled on the App Service Plan, you set $app.SiteConfig.NumberOfWorkers to control how many instances the specific web app can use."
    - id: "answer6"
      title: "$app.SiteConfig.NumberOfWorkers = 1"
      correct: true
      explain: "When per-site scaling is enabled on the App Service Plan, the SiteConfig.NumberOfWorkers property controls the maximum number of instances for the specific web app. Setting this to 1 restricts the ExcelParser app to run on exactly one worker instance, satisfying the third-party library's licensing restriction. After setting this property, you must call Set-AzWebApp to save the changes. Other apps in the same plan can use different NumberOfWorkers values."
link: "https://learn.microsoft.com/en-us/azure/app-service/manage-scale-per-app"
more: "Learn more about Per-App Scaling"
learn: "App Service Per-App Scaling"
---

You work as a Cloud Application Engineer for MDFT Pro, a well-known training agency that delivers certification courses to students worldwide. Claire, the Web Services Architecture Lead, manages a service consisting of several Azure web apps running in an App Service Plan named **PrimaryASP** with per-site scaling enabled. You're developing a new web service called **ExcelParser** that processes student grade spreadsheets and course enrollment Excel files uploaded by instructors. The web app uses a third-party Excel processing library with a licensing restriction that prohibits running multiple instances of the library simultaneouslyâ€”you can only run a single instance. Now that per-site scaling is enabled on PrimaryASP, you need to configure the ExcelParser web app itself to run on exactly one worker instance.

How should you configure the web app to limit it to a single instance?

```powershell
$app = Get-AzWebApp `
    -ResourceGroupName $rg `
    -Name "ExcelParser"

$app.________________
```
