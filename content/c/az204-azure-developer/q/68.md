---
title: "Audit Training Store Sales Transactions"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Update the retail store location data upload process to include blob index tags. Create an Azure Function to process the blob index tags and filter by store location"
      correct: false
      explain: "While blob index tags can categorize transactions by store location, they're designed for discovery and filtering of existing blobs, not for auditing changes. Index tags don't capture transaction events (create, update, delete) or provide an audit trail of when changes occurred. For auditing sales transactions, you need event-driven or change log approaches that capture temporal information."
    - id: "answer2"
      title: "Enable blob versioning for the storage account. Use an Azure Function to process a list of the blob versions per day"
      correct: false
      explain: "Blob versioning creates immutable snapshots when blobs are overwritten, preserving historical states for compliance and recovery. However, versioning doesn't provide event notifications or timestamps for when changes occurred, making it inefficient for real-time auditing. You'd need to manually enumerate and compare versions to determine what changed and when, which doesn't meet audit trail requirements."
    - id: "answer3"
      title: "Process an Azure Storage blob inventory report by using an Azure Function. Create rule filters on the blob inventory report"
      correct: false
      explain: "Blob inventory generates scheduled reports (daily or weekly) listing blobs and their properties for compliance and cost management. However, inventory reports are snapshots taken at specific intervals, not continuous audit logs. They don't capture individual transaction events or provide the temporal granularity needed for auditing sales transactions as they occur throughout the day."
    - id: "answer4"
      title: "Subscribe to blob storage events by using an Azure Function and Azure Event Grid. Filter the events by store location"
      correct: true
      explain: "Event Grid provides real-time event notifications when blobs are created, modified, or deleted, enabling immediate auditing of sales transaction uploads. You can create an Event Grid subscription that triggers an Azure Function for blob events, filtering by store location using subject filters or custom properties. This provides a comprehensive, real-time audit trail with timestamps and event details for each transaction."
    - id: "answer5"
      title: "Process the change feed logs of the Azure Blob storage account by using an Azure Function. Specify a time range for the change feed data"
      correct: true
      explain: "Change feed provides ordered, immutable, read-only transaction logs of all create, modify, and delete operations on blobs and metadata. It captures complete audit information including timestamps and operation types, making it ideal for compliance and auditing. An Azure Function can process change feed logs within specific time ranges to audit sales transactions by store location, providing a durable and complete audit trail."
link: "https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blob-change-feed"
more: "Learn more about Change Feed"
learn: "Blob Storage Change Feed"
---

You work as a Data Compliance Engineer for MDFT Pro, a well-known training agency that delivers certification courses to students worldwide. Mark, the Financial Operations Manager, operates training stores in multiple locations worldwide where students can purchase course materials, certification exam vouchers, and training equipment. Each store uploads sales transaction data to Azure Blob Storage throughout the day, with each transaction stored as a separate blob file containing purchase details, timestamps, and store location information. For financial compliance and fraud detection, you need to audit all sales transactions to track when transaction files are created, modified, or deleted, correlating events with specific store locations. The audit trail must capture complete temporal information about all blob operations to satisfy regulatory requirements and support investigation of any discrepancies in sales reporting.

What are two possible approaches to implement comprehensive auditing of the sales transaction data?
