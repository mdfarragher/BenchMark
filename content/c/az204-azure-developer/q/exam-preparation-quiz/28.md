---
title: "Create Azure Batch Job in C#"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "GetJob()"
      correct: false
      explain: "GetJob() retrieves an existing job from Azure Batch. Since you need to create a new job with a specific jobId that doesn't exist yet, attempting to get a non-existent job would fail. This method is for reading existing jobs, not creating new ones."
    - id: "answer2"
      title: "GetTask()"
      correct: false
      explain: "GetTask() is used to retrieve information about an existing task within a job. Tasks are child entities of jobs, so you can't use this method for job creation. Additionally, this would require both a job ID and task ID, and operates at the wrong level of the Batch hierarchy."
    - id: "answer3"
      title: "EnableJob()"
      correct: false
      explain: "EnableJob() is used to reactivate a job that has been disabled. It doesn't create a new jobâ€”it only changes the state of an existing job from disabled to active. You must first create the job before you can enable it."
    - id: "answer4"
      title: "CreateJob()"
      correct: true
      explain: "CreateJob() creates a new CloudJob object that can be configured with properties like Id, then committed to Azure Batch. This is the correct method for initializing a new batch job before adding tasks to it. After calling CreateJob(), you set the job's properties and call Commit() to create it in Azure Batch."
link: "https://learn.microsoft.com/en-us/azure/batch/quick-run-dotnet"
more: "Learn more about Azure Batch .NET SDK"
learn: "Batch .NET Quickstart"
---

You work as a Batch Processing Developer for MDFT Pro, a well-known training agency that provides certification courses to students globally. Mark, the Data Processing Manager, has assigned you to develop an Azure Batch solution that processes and converts student assignment files stored in Azure Storage. The system needs to batch convert video presentations, PDF documents, and code projects submitted by students into standardized formats for grading and archival. You've created a function called StartTasks that accepts three parameters: fileTasks (a list of conversion tasks to execute), jobId (the unique identifier for this batch job), and outputContainerSasUrl (a storage SAS URL where successfully converted files should be stored). The function must create a new batch job, configure it with the provided jobId, commit the job to Azure Batch, and then add individual file conversion tasks to the job.

| Parameter name        | Description                                                       |
| --------------------- | ----------------------------------------------------------------- |
| fileTasks             | a list of tasks to be run                                         |
| jobId                 | the identifier that must be assigned to the job                   |
| outputContainerSasUrl | a storage SAS URL to store successful converted files             |

How should you complete the code segment to prepare the batch job?

```csharp
public List<CloudTasks> StartTasks(List<FileTask> fileTasks, string jobId, string outputContainerSasUrl)
{
	var creds = new BatchSharedKeyCredentials(ACCOUNT_URL, ACCOUNT_NAME, ACCOUNT_KEY);
	using (BatchClient client = BatchClient.Open(creds))
	{
		var job = client.JobOperations.____________;
		job.Id = jobId;
		job.Commit();

		// file processing goes here
		// ...
	}
}
```
