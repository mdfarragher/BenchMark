---
title: "Select Event Hub Partition Key"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "Highway"
      correct: true
      explain: "Using the highway identifier as the partition key ensures that all traffic events from the same highway are consistently routed to the same partition using the Event Hub hashing function. This guarantees ordering of events within each highway, enables parallel processing of all six highways across the six partitions, maximizes throughput by distributing load evenly, and minimizes latency by allowing WebJobs to process complete highway-specific time-series data without cross-partition queries. This matches the data structure and business requirements perfectly."
    - id: "answer2"
      title: "Department"
      correct: false
      explain: "Partition keys should be based on the data being published, not on consumers. Event Hub supports multiple consumer groups that can independently read from all partitions—each department can consume all highway data using separate consumer groups. Using department as the partition key would mean all highways' data for one department goes to one partition, eliminating the parallelism needed for time-series processing and creating hotspots during high traffic periods."
    - id: "answer3"
      title: "Timestamp"
      correct: false
      explain: "Using timestamp as a partition key would distribute events across partitions based on when they arrive, breaking the logical grouping by highway. This would scatter data from the same highway across multiple partitions, eliminating the ability to maintain event ordering within a highway and requiring complex cross-partition queries for time-series analysis. Additionally, timestamp values constantly change, preventing consistent routing to the same partition."
    - id: "answer4"
      title: "VM Name"
      correct: false
      explain: "VM Name refers to the infrastructure running the WebJobs, not the source of the traffic data. Partition keys should identify the logical entity generating the events (highways) to ensure related events are grouped together for ordered processing. Using VM Name would distribute highway data randomly across partitions based on which VM happened to send the event, breaking event ordering and reducing processing efficiency."
link: "https://learn.microsoft.com/en-us/azure/event-hubs/event-hubs-features"
more: "Learn more about Partition Keys"
learn: "Event Hubs Partition Keys"
---

You work as a Streaming Data Engineer for MDFT Pro, a well-known training agency that delivers certification courses to students worldwide. Mark, the Real-Time Analytics Lead, is building a traffic monitoring system for a hands-on Azure training course. The system monitors traffic along six highways, collecting data from IoT sensors and producing time-series analysis reports for each highway. Data from traffic sensors is ingested into Azure Event Hub with six partitions and consumed by four departments—Road Safety, Traffic Planning, Environmental Impact, and Student Training—each running an Azure Web App with a WebJob that processes incoming Event Hub data and displays highway-specific time-series reports. All web apps run on App Service Plans with three instances each. The system must maximize data throughput and minimize latency, with each highway's events processed in order.

Which partition key should you configure for the Event Hub to ensure optimal performance and ordered processing per highway?
