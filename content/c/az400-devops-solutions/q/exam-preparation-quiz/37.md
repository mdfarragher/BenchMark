---
title: "Select the Actions to Integrate Prometheus with Azure Monitor"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Enable the Azure Diagnostics extension on each virtual machine"
      explain: "The Azure Diagnostics extension is for collecting diagnostic logs and metrics, but it doesn't specifically enable Prometheus integration with Azure Monitor. This would collect metrics but not in the Prometheus format needed for this integration."
    - id: "answer2"
      title: "Expose the /metrics endpoint on each virtual machine"
      correct: true
      explain: "Exposing the metrics endpoint on each virtual machine is necessary for Prometheus integration with Azure Monitor. This allows the Prometheus scraper to access and collect the metrics generated by applications running on the virtual machines, making them available for monitoring in Azure Monitor."
    - id: "answer3"
      title: "Install a Prometheus server on a virtual machine in Azure"
      explain: "While Prometheus servers can run on a virtual machine, for Azure Monitor integration, you don't need to install a separate Prometheus server on a VM. Azure Monitor can scrape Prometheus metrics directly without requiring a dedicated Prometheus server."
    - id: "answer4"
      title: "Enable the Azure Monitor Agent with Prometheus scraping on each virtual machine"
      correct: true
      explain: "The Azure Monitor Agent with Prometheus scraping capability is a key component for integrating Prometheus with Azure Monitor. It collects Prometheus metrics from the exposed endpoints and forwards them to Azure Monitor, enabling centralized monitoring of Prometheus metrics within the Azure ecosystem."
    - id: "answer5"
      title: "Enable the containerized agent for Azure Monitor on each virtual machine"
      explain: "The containerized agent for Azure Monitor is primarily for container monitoring scenarios, not for direct Prometheus integration with virtual machines that aren't running containers."
    - id: "answer6"
      title: "Expose a virtual network service endpoint for Azure Storage"
      explain: "Exposing a service endpoint for Azure Storage doesn't contribute to integrating Prometheus with Azure Monitor. This is used for securing connections to Azure Storage services."
link: "https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/prometheus-metrics-overview"
more: "Learn more about Azure Monitor Prometheus integration"
learn: "Azure Monitor Prometheus Integration"
---
You work at MDFT Academy, a well-known training agency. The academy has an Azure subscription containing virtual machines that run either Windows Server or Linux. You plan to use Prometheus to monitor performance metrics for the academy's infrastructure. You need to integrate Prometheus and Azure Monitor.

Which actions should you perform?
