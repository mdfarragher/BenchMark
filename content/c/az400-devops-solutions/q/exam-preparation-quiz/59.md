---
title: "Create a Staging Environment in Azure"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "In Azure DevOps, configure new tasks in the release pipeline to create and delete the virtual machines in Azure DevTest Labs."
      correct: true
    - id: "answer2"
      title: "From Azure Cloud Shell, run Azure PowerShell commands to create and delete the new virtual machines in a staging resource group."
      explain: "While this approach would work for provisioning VMs, it doesn't provide the automatic provisioning through a pipeline that's required. This manual approach doesn't integrate with the existing DevOps processes."
    - id: "answer3"
      title: "In Azure DevOps, configure new tasks in the release pipeline to deploy to Azure Cloud Services."
      explain: "Azure Cloud Services is a PaaS offering and wouldn't allow the use of custom ARM templates for VM provisioning as specified in the requirements."
    - id: "answer4"
      title: "In Azure Cloud Shell, run Azure CLI commands to create and delete the new virtual machines in a staging resource group."
      explain: "Similar to the PowerShell option, this approach doesn't provide automatic provisioning through integration with existing pipelines, making it less suitable for the requirements."
link: "https://learn.microsoft.com/en-us/azure/devtest-labs/devtest-lab-integrate-ci-cd"
more: "Learn more about Azure DevTest Labs"
learn: "Azure DevTest Labs"
---

MDFT Academy builds a multi-tier web application for teaching purposes. The academy uses Azure DevOps and hosts the production application on Azure virtual machines.

Your team at MDFT Academy has prepared an Azure Resource Manager template of the virtual machine that you will use to test new features. You need to create a staging environment in Azure that meets the following requirements:
* Minimizes the cost of Azure hosting
* Provisions the virtual machines automatically
* Uses the custom Azure Resource Manager template to provision the virtual machines

What should you do?
