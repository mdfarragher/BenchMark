---
title: "Identify the First Step for Azure Pipeline Deployment Automation"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "Create a service principal"
      correct: true
    - id: "answer2"
      title: "Create an Azure Automation account"
      explain: "Azure Automation accounts are used for process automation, configuration management, and update management. While valuable for many scenarios, they're not required as the first step when setting up Azure Pipelines with self-hosted agents. Creating a service principal is needed first to establish the connection between Azure DevOps and your Azure subscription."
    - id: "answer3"
      title: "On each virtual machine, enable a system-assigned managed identity"
      explain: "System-assigned managed identities are tied to specific Azure resources and cannot be shared across multiple VMs in the way that's needed for pipeline authentication. System-assigned identities would need to be individually configured and granted permissions, which increases administrative effort rather than minimizing it."
    - id: "answer4"
      title: "Create a user-assigned managed identity"
      explain: "User-assigned managed identities can be shared across multiple Azure resources, but they are primarily designed for resources within Azure. For Azure Pipelines running on self-hosted agents, a service principal provides the necessary authentication mechanism to connect to Azure resources with minimal configuration."
link: "https://learn.microsoft.com/en-us/azure/devops/pipelines/library/connect-to-azure"
more: "Learn more about connecting to Azure."
learn: "Azure DevOps Service Connections"
---

You work for MDFT Academy, a well-known training agency. The organization uses an Azure subscription to host their educational resources.

MDFT Academy uses Bicep templates to deploy websites and Azure SQL infrastructure for their learning management system. You need to automate these deployments by using Azure Pipelines and a self-hosted agent that runs on two virtual machines. The solution must minimize administrative effort.

What should you do first?
