---
title: "Resolve SSIS Package Failure After Master Database Loss"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Add a certificate to an Azure Key Vault"
      correct: false
      explain: "Azure Key Vault is not required for restoring SSISDB functionality on a SQL Server instance running on an Azure virtual machine."
    - id: "answer2"
      title: "Attach the SSISDB database"
      correct: true
      explain: "First, you must attach the SSISDB database since it was not lost, only the master database was affected."
    - id: "answer3"
      title: "Turn on the TRUSTWORTHY property and the CLR property"
      correct: true
      explain: "The TRUSTWORTHY and CLR properties must be enabled on SSISDB for SSIS packages to function correctly."
    - id: "answer4"
      title: "Enable Transparent Data Encryption"
      correct: false
      explain: "Transparent Data Encryption is not related to the issue with SSIS packages failing after master database loss."
    - id: "answer5"
      title: "Open the master key for the SSISDB database"
      correct: true
      explain: "The database master key must be opened to decrypt sensitive data in SSIS packages."
    - id: "answer6"
      title: "Encrypt a copy of the master key by using the service master key"
      correct: true
      explain: "Finally, the database master key must be encrypted by the service master key to restore automatic decryption functionality."
link: "https://learn.microsoft.com/en-us/sql/integration-services/catalog/ssis-catalog"
more: "Learn more about The SSIS Catalog"
learn: "The SSIS Catalog"
---
You work for MDFT Pro, a well-known training agency that uses SQL Server Integration Services (SSIS) to manage nightly data loads for their learning management system. Mark, the Database Operations Manager, runs SQL Server 2019 on an Azure virtual machine that contains an SSISDB database with dozens of SSIS packages for loading student enrollment data, course completions, and assessment results. After a recent disk failure, the master database was lost and had to be recreated from scratch. Mark has discovered that all SSIS packages now fail to run on the virtual machine, and he has assigned you to resolve the issue and restore the ETL processes.

Which four actions should you perform in sequence to resolve the issue?
