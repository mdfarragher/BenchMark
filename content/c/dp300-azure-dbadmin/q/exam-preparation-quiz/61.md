---
title: "Configure SQL Agent Job to Access File Share"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Create a database user"
      correct: false
      explain: "A database user is not needed for SQL Agent jobs to access file shares. This requires a credential with domain account privileges."
    - id: "answer2"
      title: "Create a credential"
      correct: true
      explain: "Creating a credential with a domain account that has access to the file share is the first step in enabling SQL Agent job access."
    - id: "answer3"
      title: "Create a login"
      correct: false
      explain: "A login is not directly needed for this scenario. The credential and proxy provide the necessary authentication."
    - id: "answer4"
      title: "Create a proxy"
      correct: true
      explain: "Creating a proxy that uses the credential allows SQL Agent jobs to run under the context of the domain account with file share access."
    - id: "answer5"
      title: "Assign the proxy to the job step"
      correct: true
      explain: "Assigning the proxy to the job step ensures it runs with the permissions needed to access the file share."
link: "https://learn.microsoft.com/en-us/sql/ssms/agent/create-a-credential-for-a-proxy"
more: "Learn more about SQL Server Agent proxies"
learn: "SQL Server Agent Proxies and Credentials"
---
You work for MDFT Pro, a well-known training agency that provides Microsoft certification courses to students worldwide. Mark, the Chief Technology Officer, manages an Azure subscription that contains an instance of SQL Server on Azure Virtual Machines named TrainingSQL and a virtual machine named TrainerDocs that runs Windows Server. Both TrainingSQL and TrainerDocs are joined to an Active Directory Domain Services (AD DS) domain. The TrainerDocs server hosts a file share named CourseFiles that contains training materials and course documentation.

Mark has hired you to configure the SQL Server environment. You need to ensure that a SQL Server Agent job step on TrainingSQL can access the files in CourseFiles. The solution must use the principle of least privilege to minimize security risks.

Which three actions should you perform in sequence?
