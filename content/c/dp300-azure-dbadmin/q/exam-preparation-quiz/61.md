---
title: "Configure SQL Agent job to access file share"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "Create a database user"
      correct: false
      explain: "A database user is not needed for SQL Agent jobs to access file shares. This requires a credential with domain account privileges."
    - id: "answer2"
      title: "Create a credential"
      correct: true
      explain: "First, create a credential with a domain account that has access to the file share."
    - id: "answer3"
      title: "Create a login"
      correct: false
      explain: "A login is not directly needed for this scenario. The credential and proxy provide the necessary authentication."
    - id: "answer4"
      title: "Create a proxy"
      correct: true
      explain: "Second, create a proxy that uses the credential, allowing SQL Agent jobs to run under the context of the domain account."
    - id: "answer5"
      title: "Assign the proxy to the job step"
      correct: true
      explain: "Third, assign the proxy to the job step so it runs with the permissions needed to access the file share."
link: "https://learn.microsoft.com/en-us/sql/ssms/agent/create-a-credential-for-a-proxy"
more: "Learn more about SQL Server Agent proxies and credentials"
learn: "SQL Server Agent proxies"
---
You have an Azure subscription that contains an instance of SQL Server on Azure Virtual Machines named SQLVM1 and a virtual machine named Server1 that runs Windows Server. SQLVM1 and Server1 are joined to an Active Directory Domain Services (AD DS) domain. Server1 hosts a file share named Share1.

You need to ensure that a SOL Server Agent job step on SQLVM1 can access the files in Share1. The solution must use the principle of least privilege.

Which three actions should you perform in sequence?
