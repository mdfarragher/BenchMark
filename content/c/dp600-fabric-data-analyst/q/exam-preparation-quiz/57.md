---
title: "Optimize DAX Query Performance"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "Yes"
      correct: true
      explain: "The ISEMPTY function is more efficient than COUNTROWS for checking existence because it only needs to verify if at least one row exists, rather than counting all rows. NOT(ISEMPTY(RELATEDTABLE('Order Item'))) returns TRUE when related orders exist, matching the original logic but with significantly better performance, especially for customers with many orders."
    - id: "answer2"
      title: "No"
      explain: "The replacement code NOT(ISEMPTY(RELATEDTABLE('Order Item'))) is logically equivalent to COUNTROWS('Order Item') > 0 and provides better performance. ISEMPTY is optimized for existence checks and stops evaluating as soon as it finds one row, while COUNTROWS must count all rows."

link: "https://learn.microsoft.com/en-us/dax/filter-function-dax"
more: "Learn more about the DAX FILTER function"
learn: "FILTER Function"
---

You work for MDFT Pro, a well-known training agency. The academy uses a Fabric tenant that contains a semantic model named **STUDENTMODEL** to track student enrollments and course registrations. You discover that the following query performs slowly against **STUDENTMODEL** when generating reports for active students:

```dax
EVALUATE
    FILTER (
        VALUES ( Customer[Customer Name] ),
        CALCULATE ( COUNTROWS ( 'Order Item' ) ) > 0
    )
    ORDER BY Customer[Customer Name]
```

You need to reduce the execution time of the query to improve report generation performance. You decide to replace line 4 with the following code:

```dax
NOT ( ISEMPTY ( RELATEDTABLE ( 'Order Item' ) ) )
```

Does this meet the goal?
