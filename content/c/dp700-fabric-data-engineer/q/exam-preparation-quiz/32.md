---
title: "Create Primary Key Constraint in Warehouse"
type: "question"
layout: "multiple"
answers:
    - id: "answer1"
      title: "DROP CONSTRAINT PK_DimCustomer"
      correct: false
      explain: "DROP CONSTRAINT is used to remove an existing constraint from a table. Since no primary key exists yet on the DimCustomer table, there is nothing to drop. This statement would result in an error."
    - id: "answer2"
      title: "ADD CONSTRAINT PK_DimCustomer PRIMARY KEY NONCLUSTERED (CustomerKey)"
      correct: true
      explain: "This statement adds the primary key constraint using NONCLUSTERED, which is required in Microsoft Fabric warehouses. Primary keys must be created as NONCLUSTERED because Fabric warehouses don't support clustered indexes on columnstore tables."
    - id: "answer3"
      title: "NOT ENFORCED"
      correct: true
      explain: "The NOT ENFORCED keyword is required when creating primary keys in Microsoft Fabric warehouses. This indicates that the constraint is for metadata purposes and query optimization but isn't physically enforced by the database engine, which is a characteristic of cloud data warehouse platforms."
    - id: "answer4"
      title: "ALTER TABLE dbo.DimCustomer"
      correct: true
      explain: "ALTER TABLE is required to add a primary key constraint to an existing table in Microsoft Fabric. Primary key constraints cannot be created inline within CREATE TABLE statements; they must be added afterward using ALTER TABLE."
    - id: "answer5"
      title: "ADD CONSTRAINT PK_DimCustomer PRIMARY KEY CLUSTERED (CustomerKey)"
      correct: false
      explain: "CLUSTERED primary keys are not supported in Microsoft Fabric warehouses. All primary keys must be NONCLUSTERED because the underlying storage uses columnstore indexes, which don't support clustered indexes."
    - id: "answer6"
      title: "ENFORCED"
      correct: false
      explain: "ENFORCED is not a valid keyword in Microsoft Fabric. All constraints must be created with NOT ENFORCED because Fabric warehouses don't physically enforce referential integrity constraints, relying instead on ETL/ELT processes to maintain data quality."
link: "https://learn.microsoft.com/en-us/fabric/data-warehouse/table-constraints"
more: "Learn more about table constraints"
learn: "Table Constraints"
---
You work for MDFT Pro, a well-known training agency that manages student and course data. Mark, a Data Warehouse Developer at MDFT Pro, has created a Fabric warehouse called StudentAnalytics to support reporting and analytics. He creates a dimension table called DimCustomer with three columns: CustomerKey (a unique identifier for each student), Name (student's full name), and Email (student's email address). To ensure data integrity and enable proper relationships with fact tables, Mark needs to designate the CustomerKey column as the primary key of the DimCustomer table. In Microsoft Fabric warehouses, primary keys must be created using ALTER TABLE statements after the table is created, and they must use specific syntax requirements including NONCLUSTERED and NOT ENFORCED keywords.

Which three code segments should Mark run in sequence to create the primary key?
