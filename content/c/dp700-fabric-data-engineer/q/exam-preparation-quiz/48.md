---
title: "Monitor Users Running Active Queries in Warehouse"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "sys.dm_exec_connections"
      correct: false
      explain: "The sys.dm_exec_connections DMV provides information about network connections to the warehouse, including connection ID and network protocol details. However, it requires special permissions (only Admins can execute it), and it's not the primary view for identifying user names of active query sessions. Members, Contributors, and Viewers don't have permission to execute this view."
    - id: "answer2"
      title: "sys.dm_exec_requests"
      correct: false
      explain: "The sys.dm_exec_requests DMV shows information about actively running requests, including request ID, start time, status, and query details. While useful for monitoring query execution, it doesn't directly show user names. You would need to join it with sys.dm_exec_sessions to get the login_name information."
    - id: "answer3"
      title: "queryinsights.long_running_queries"
      correct: false
      explain: "The queryinsights.long_running_queries view provides historical information about queries that took a long time to execute. It's useful for performance analysis and identifying slow queries, but it shows historical data rather than currently active sessions and their user names in real-time."
    - id: "answer4"
      title: "queryinsights.frequently_run_queries"
      correct: false
      explain: "The queryinsights.frequently_run_queries view shows historical information about queries that are executed often in the warehouse. This is useful for identifying common query patterns for optimization, but it doesn't provide real-time information about users who are actively running queries right now."
    - id: "answer5"
      title: "sys.dm_exec_sessions"
      correct: true
      explain: "The sys.dm_exec_sessions DMV is the correct choice for identifying user names of active sessions. It includes the login_name column that shows user identification for each session, along with information such as client program name, client login time, current session settings, and session status. Members, Contributors, and Viewers can execute this DMV to see their own sessions, while Admins can see all sessions in the warehouse."
link: "https://learn.microsoft.com/en-us/fabric/data-warehouse/monitor-using-dmv"
more: "Learn more about monitoring using DMVs"
learn: "Monitor Using DMVs"
---
You work for MDFT Pro, a well-known training agency that manages student data and analytics. Claire, a Data Platform Administrator at MDFT Pro, oversees a Fabric workspace containing a warehouse named StudentDataWarehouse. Data is loaded daily into StudentDataWarehouse using data pipelines and stored procedures that process student enrollment records, course completion data, and assessment results. Recently, Claire has noticed that the daily data load operations are taking longer than expected, with some processes timing out or running much slower than usual. She suspects that concurrent user queries might be competing for resources during the data load window. Claire needs to monitor StudentDataWarehouse to identify which users are actively running queries at any given time, so she can understand the workload patterns and potentially adjust the data load schedule or communicate with users about peak usage times. This information will help her optimize the warehouse performance and ensure reliable data loading.

Which view should Claire use to monitor the names of users that are actively running queries?
