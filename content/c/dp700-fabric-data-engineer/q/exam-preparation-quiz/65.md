---
title: "Analyze KQL Ranking Query Results"
type: "question"
layout: "single"
answers:
    - id: "answer1"
      title: "Yes, Yes, Yes"
      correct: false
      explain: "Statement B is false because the code contains a syntax error (double quote in 'Litware\"') that would prevent it from executing. Statement C is also false because ranking is done within each location group separately."
    - id: "answer2"
      title: "Yes, Yes, No"
      correct: false
      explain: "Statement B is false because the code contains a syntax error (double quote in 'Litware\"') that would prevent the query from executing successfully."
    - id: "answer3"
      title: "Yes, No, Yes"
      correct: false
      explain: "Statement C is false because the ranking is calculated separately for each location group, so Litware in different locations would have different rank values based on their position within their respective location groups."
    - id: "answer4"
      title: "Yes, No, No"
      correct: true
      explain: "Only statement A is true. The query sorts by Location descending, so 'Washington DC' comes first alphabetically in descending order, followed by 'Seattle', 'San Francisco', and 'New York'. Within New York, sorting by UnitsSold descending puts Litware (1000 units) at the top. Statements B and C are false due to syntax errors and separate ranking per location."
    - id: "answer5"
      title: "No, Yes, Yes"
      correct: false
      explain: "Statement A is actually true because the descending sort by Location and UnitsSold places Litware from New York at the top of its location group. However, the code has syntax errors that prevent execution."
    - id: "answer6"
      title: "No, No, No"
      correct: false
      explain: "Statement A is true. When sorted by Location descending and then by UnitsSold descending within each location, Litware from New York (with 1000 units) would be at the top of the New York location group."
link: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/row-rank-dense-function"
more: "Learn more about KQL row ranking functions"
learn: "KQL Row Ranking Functions"
---
You work as a Sales Data Analyst for Mark at MDFT Pro, a well-known training agency. MDFT Pro is processing streaming sales data from an external data provider that tracks course enrollment units sold by various partner companies across different training locations. Mark has asked you to analyze the following KQL code segment that ranks companies by units sold within each location. The code processes sales data and applies a dense ranking function to identify top-performing partners in each region.

```kql
datatable (Location:string, Company:string, UnitsSold:long)
[
    "New York", "Contoso", 300,
    "New York", "Litware", 1000,
    "New York", "Relecloud", 300,
    "New York", "Fabrikam", 200,
    "seattle", "Contoso", 300,
    "Seattle", "Litware"", 100,
    "Seattle", "Fabrikam", 100,
    "San Francisco", "Relegcloud", 500
    "San Francisco", "Litware", 500,
    "Washington DE", "Litware", 300,
    "Washington DC", "Contoso", 400
]
| sort by Location desc, UnitsSold desc
| extend Rank = row_rank_dense(UnitsSold, prev(Location) != Location)
```

Evaluate the following statements about the query results:

**A.** Litware from New York will be displayed at the top of the result set

**B.** Fabrikam in Seattle will have value = 2 in the 'Rank' column

**C.** Litware in San Francisco will have the same value in the 'Rank' column as Litware in New York

Which combination of answers is correct?
